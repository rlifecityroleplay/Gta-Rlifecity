<!doctype html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes">
    <meta name="description" content="RLIFE CITY Roleplay - Thành phố nhập vai GTA V chân thực, sáng tạo và gắn kết cộng đồng tại Việt Nam.">
    <meta name="keywords" content="RLIFE CITY, GTA V Roleplay, server GTA V, nhập vai Việt Nam">
    <meta name="author" content="RLIFE CITY Team">
    
    <!-- Mobile Web App Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="RLIFE CITY">
    <meta name="theme-color" content="#081120">
    
    <title>RLIFE CITY Roleplay</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="icon" type="image/png" sizes="32x32" href="logo.png">
    <!-- Halloween Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Nosifer&family=Butcherman&family=Eater&display=swap" rel="stylesheet">
    <style>
html { 
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}

/* Mobile optimizations */
* {
    -webkit-tap-highlight-color: rgba(0,0,0,0);
    -webkit-tap-highlight-color: transparent;
}

/* Better touch targets for mobile */
a, button, .btn, .nav-link, .info-box, .trailer-card, .vip-item {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}

/* Prevent text selection on interactive elements */
.btn, button, .nav-link, .info-box, .trailer-card {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

/* Prevent horizontal scroll on mobile */
body, html {
    overflow-x: hidden;
    width: 100%;
    position: relative;
}

/* Body glitch animation */
@keyframes bodyGlitch {
    0%, 100% { 
        filter: none;
        transform: translate(0, 0);
    }
    10% { 
        filter: hue-rotate(90deg) contrast(1.5);
        transform: translate(-5px, 5px);
    }
    20% { 
        filter: hue-rotate(-90deg) contrast(2);
        transform: translate(5px, -5px);
    }
    30% { 
        filter: hue-rotate(180deg) invert(0.2);
        transform: translate(-3px, -3px);
    }
    40% { 
        filter: hue-rotate(-180deg) contrast(1.8);
        transform: translate(3px, 3px);
    }
}

/* Smooth scrolling with hardware acceleration */
section, .trailer-card, .info-box {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}
.section-about {
  background: rgba(10,20,40,0.85);
  border-top: 2px solid #1a3a6e;
  border-bottom: 2px solid #1a3a6e;
  color: #fff;
  text-align: left;
}

.about-title {
  font-size: 3rem;
  font-weight: bold;
  font-family: 'Creepster', cursive;
  color: #fbff00;
  text-shadow: 0 0 20px #e5ff00, 0 0 40px #85cc00, 3px 3px 6px #000;
  letter-spacing: 3px;
}

.about-sub {
  font-size: 1.1rem;
  font-weight: 500;
  color: #eeff00;
  margin-bottom: 0.5rem;
}

.about-text {
  font-size: 1rem;
  color: #ddd;
  line-height: 2;
}

        body {
                        color: #fff;
            font-family: 'Rubik', 'Arial', sans-serif;
            min-height: 100vh;
            margin: 0;
            padding-top: 80px; /* chừa chỗ cho navbar cố định */
        }
        section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.7s, box-shadow 0.7s;
            padding-top: 80px;
            padding-bottom: 80px;
        }
.section-main {
    background: radial-gradient(ellipse at top left,
                rgba(10,22,48,0.85) 0%,
                rgba(9,16,32,0.8) 40%,
                rgba(9,16,32,0.85) 100%);
}

.section-intro {
    background: linear-gradient(120deg,
                rgba(10,22,48,0.85) 0%,
                rgba(9,16,32,0.8) 40%,
                rgba(9,16,32,0.85) 100%);
}

.section-trailer {
    background: linear-gradient(120deg,
                rgba(10,22,48,0.85) 0%,
                rgba(9,16,32,0.8) 40%,
                rgba(9,16,32,0.85) 100%);
}
        .active-section {
            box-shadow: 0 0 120px 30px #58a6ffcc;
            z-index: 2;
        }
        .navbar {
            background: #081120;
            border-bottom: 2px solid #1a3a6e;
            box-shadow: 0 2px 12px #0a3c75cc;
        }
        .navbar-brand {
            font-weight: bold;
            font-size: 3rem;
            letter-spacing: 2px;
            font-family: 'Nosifer', cursive;
            color: #ff6600 !important;
            text-shadow: 0 0 10px #ff3c00, 0 0 8px #000, 4px 4px 8px #000;
            animation: halloweenGlow 2s infinite alternate;
        }
        @keyframes glow {
            from { text-shadow: 0 0 24px #58a6ff, 0 0 8px #fff; }
            to { text-shadow: 0 0 48px #91eac9, 0 0 16px #fff; }
        }
        @keyframes halloweenGlow {
            from { 
                text-shadow: 0 0 10px #ff3300, 0 0 5px #000, 4px 4px 8px #000; 
                filter: drop-shadow(0 0 10px #ff9100);
            }
            to { 
                text-shadow: 0 0 48px #ffa600, 0 0 16px #cc8b00, 6px 6px 12px #000; 
                filter: drop-shadow(0 0 10px #ffbb00);
            }
        }
        .nav-link {
            color: #dcdcdc !important;
            font-weight: 600;
            margin-right: 1rem;
            transition: color 0.2s, text-shadow 0.2s;
            font-family: 'Rubik', sans-serif;
        }
        .nav-link.active, .nav-link:hover {
            color: #ffffff !important;
            
            transform: scale(1.08);
        }
/* Hiệu ứng lắc + sáng icon */
@keyframes shake {
  0% { transform: rotate(0deg) scale(1); }
  25% { transform: rotate(-10deg) scale(1.1); }
  50% { transform: rotate(10deg) scale(1.1); }
  75% { transform: rotate(-6deg) scale(1.05); }
  100% { transform: rotate(0deg) scale(1); }
}

.nav-link i:hover,
.info-box i:hover {
  color: #ff6600;
  text-shadow: 0 0 12px #ff6600, 0 0 20px #cc0000;
  animation: shake 0.5s ease-in-out;
}

        .logo-title {
            font-size: 10rem;
            font-weight: 900;
            letter-spacing: 4px;
            font-family: 'Creepster', cursive;
            color: #ff6600;
            text-shadow: 0 0 32px #ff3300, 0 0 12px #cc0000, 5px 5px 10px #000, 0 8px 0 #660000;
            animation: halloweenGlow 2s infinite alternate;
        }
        .roleplay-title {
            font-size: 2.2rem;
            font-weight: 700;
            font-family: 'Butcherman', cursive;
            color: #9b30ff;
            text-shadow: 0 0 16px #9b30ff, 0 0 30px #660099, 3px 3px 6px #000;
            letter-spacing: 2px;
        }
        .info-boxes {
            display: flex;
            gap: 2rem;
            justify-content: center;
            margin: 2rem 0;
        }
        .info-box {
            background: rgba(10, 20, 40, 0.85);
            border-radius: 12px;
            box-shadow: 0 0 20px #0f3266 inset;
            padding: 1.2rem 2.2rem;
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            min-width: 120px;
            position: relative;
            transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
            border: 2px solid #1f4a8c;
            color: #fff;
        }
        .info-box i {
            font-size: 1.7rem;
            margin-bottom: 0.5rem;
            color: #ff6600;
            text-shadow: 0 0 10px rgba(255, 102, 0, 0.6);
            transition: transform 0.2s;
        }
.btn-play:hover {
    transform: translateY(-5px) scale(1.08);
    box-shadow: 0 12px 28px rgba(88, 166, 255, 0.5);
    background: linear-gradient(135deg, #58a6ff, #91eac9); /* xanh chủ đạo */
    animation-play-state: paused;
}
         .btn-play {
             background: linear-gradient(135deg, #ff6b35, #f7931e, #ffd700);
             color: #fff;
             font-size: 1.3rem;
             font-weight: bold;
             border-radius: 50px;
             padding: 1rem 3rem;
             box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.1);
             border: none;
             transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
             position: relative;
             overflow: hidden;
             letter-spacing: 1px;
             text-transform: uppercase;
             cursor: pointer;
             animation: btnGlow 3s ease-in-out infinite alternate;
         }

         .btn-play::before {
             content: '';
             position: absolute;
             top: 0;
             left: -100%;
             width: 100%;
             height: 100%;
             background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
             transition: left 0.6s ease;
             z-index: 1;
         }

         .btn-play::after {
             content: '';
             position: absolute;
             top: 50%;
             left: 50%;
             width: 0;
             height: 0;
             background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
             border-radius: 50%;
             transform: translate(-50%, -50%);
             transition: all 0.6s ease;
             z-index: 0;
         }

         .btn-play:hover::before {
             left: 100%;
         }

         .btn-play:hover::after {
             width: 300px;
             height: 300px;
         }

         .btn-play:hover {
             transform: translateY(-5px) scale(1.08);
             box-shadow: 0 15px 35px rgba(255, 107, 53, 0.6), 0 0 30px rgba(255, 215, 0, 0.4), 0 0 0 2px rgba(255, 255, 255, 0.2);
             background: linear-gradient(135deg, #ff8c42, #ffb347, #ffd700, #ffed4e);
             animation-play-state: paused;
         }

         .btn-play:active {
             transform: translateY(-2px) scale(1.05);
             box-shadow: 0 8px 20px rgba(255, 107, 53, 0.5);
         }

         .btn-play i {
             margin-right: 0.5rem;
             transition: all 0.3s ease;
             position: relative;
             z-index: 2;
         }

         .btn-play:hover i {
             transform: scale(1.3) rotate(10deg);
             text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
         }

@keyframes btnGlow {
            0% {
                box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.1);
            }
            100% {
                box-shadow: 0 8px 25px rgba(255, 107, 53, 0.6), 0 0 20px rgba(255, 215, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2);
            }
        }

        @keyframes pulseGlow {
            0% {
                box-shadow: 0 0 30px rgba(88, 166, 255, 0.6);
            }
            100% {
                box-shadow: 0 0 50px rgba(88, 166, 255, 0.9), 0 0 80px rgba(145, 234, 201, 0.4);
            }
        }
        .city-card {
            background: rgba(10, 20, 40, 0.85);
            border: 2px solid #1f4a8c;
            border-radius: 12px;
            width: 180px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: #fff;
            cursor: pointer;
            transition: 0.3s;
        }
        .city-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            background: #0f3266;
        }
        .arrow-next {
            font-size: 2.5rem;
            color: #58a6ff;
            cursor: pointer;
            margin-left: 1rem;
            transition: 0.3s;
        }
        .arrow-next:hover {
            color: #91eac9;
            transform: scale(1.2) rotate(10deg);
            text-shadow: 0 0 12px #58a6ff;
        }
        .section-title {
            font-size: 3rem;
            font-weight: bold;
            font-family: 'Creepster', cursive !important;
            color: #ff6600;
            margin-bottom: 1.5rem;
            text-shadow: 0 2px 12px #ff3300, 0 0 30px #cc0000, 4px 4px 8px #000;
            letter-spacing: 3px;
            position: relative;
            z-index: 10;
        }

.trailer-card {
    background: linear-gradient(145deg, rgba(10, 20, 40, 0.95), rgba(15, 30, 50, 0.9));
    border-radius: 20px;
    overflow: hidden;
    width: 100%;
    height: auto;
    box-shadow: 0 8px 32px rgba(88, 166, 255, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1);
    border: 2px solid transparent;
    background-clip: padding-box;
    position: relative;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.trailer-card::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg, #58a6ff, #91eac9, #ffd700, #ff6b35);
    border-radius: 20px;
    padding: 2px;
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
}

.trailer-card::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%);
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
}

.trailer-card:hover::before {
    opacity: 0;
}

.trailer-card:hover::after {
    opacity: 1;
}

.trailer-card:hover {
    transform: translateY(-5px) scale(1.01);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
    background: linear-gradient(145deg, rgba(15, 30, 50, 0.95), rgba(20, 40, 60, 0.9));
}

.trailer-card img {
    width: 100%;
    height: 250px;
    object-fit: cover;
    transition: all 0.4s ease;
    filter: brightness(0.9) contrast(1.1);
}

.trailer-card:hover img {
    transform: scale(1.05);
    filter: brightness(1.1) contrast(1.2);
}

.trailer-card .caption {
    padding: 1.5rem;
    font-weight: bold;
    color: #fff;
    background: linear-gradient(135deg, rgba(15, 50, 102, 0.95), rgba(20, 60, 120, 0.9));
    text-align: center;
    font-size: 1.1rem;
    position: relative;
    z-index: 2;
}

.trailer-card .caption h5 {
    font-size: 1.3rem;
    font-weight: 800;
    font-family: 'Butcherman', cursive;
    margin-bottom: 0.8rem;
    background: linear-gradient(135deg, #ff6600, #9b30ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: none;
    filter: drop-shadow(0 0 8px rgba(255, 102, 0, 0.5));
}

.trailer-card .caption small {
    font-weight: 500;
    color: #ddd;
    display: block;
    margin-top: 0.5rem;
    font-size: 0.95rem;
}

.trailer-card .caption .btn {
    margin-top: 1rem;
    background: linear-gradient(135deg, #ff6b35, #f7931e);
    border: none;
    border-radius: 25px;
    padding: 0.5rem 1.5rem;
    font-weight: 600;
    color: #fff;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.trailer-card .caption .btn:hover {
    background: linear-gradient(135deg, #ff8c42, #ffb347);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(255, 107, 53, 0.4);
}


/* Hiệu ứng xuất hiện khi cuộn */
.trailer-card {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.trailer-card.visible {
    opacity: 1;
    transform: translateY(0);
}


/* Thêm mới để tạo khoảng cách giữa các trailer-card */
.trailer-list {
    display: flex;
    flex-direction: column;
    gap: 200px; /* chỉnh khoảng cách theo ý bạn, ví dụ 15px hay 30px */
}

/* Hiệu ứng glass + glow tinh chỉnh chung */
.info-box, .trailer-card, .city-card, .crew-fixed {
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
}

/* Nhấp nháy ánh sáng dịu quanh tiêu đề chính */
@keyframes subtleGlow {
    0% { text-shadow: 0 0 18px #58a6ff, 0 0 8px #fff; }
    100% { text-shadow: 0 0 32px #91eac9, 0 0 12px #fff; }
}
.logo-title { animation: subtleGlow 1.6s ease-in-out infinite alternate; }
/* VIP 10 float animation */
.vip-float {
  width: 500px;  /* tăng lên từ 220px -> 300px hoặc 350px */
 margin-top: 80px; /* thêm margin cho ảnh VIP */
  animation: vipFloat 1s ease-in-out infinite;
}


@keyframes vipFloat {
  0%   { transform: translateY(0px); }
  50%  { transform: translateY(-15px); }
  100% { transform: translateY(0px); }
}

/* Nhẹ nhàng nổi lên xuống cho các box */
@keyframes floatUpDown { 0% { transform: translateY(0); } 50% { transform: translateY(-6px); } 100% { transform: translateY(0); } }
.info-box { animation: floatUpDown 3s ease-in-out infinite; }

/* Ripple cho nút bấm */
.btn-play { position: relative; overflow: hidden; }
.btn-play .ripple {
    position: absolute;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255,255,255,0.45);
    pointer-events: none;
    width: 10px; height: 10px;
    animation: ripple 10s linear;
}
@keyframes ripple {
    0% { opacity: 0.1; }
    100% { width: 300px; height: 300px; opacity: 0; }
}

/* Reveal hiệu ứng dùng chung */
.reveal { opacity: 0; transform: translateY(24px); transition: opacity 0.3s ease, transform 0.1s ease; }
.reveal.visible { opacity: 1; transform: translateY(0); }

        footer {
            background: #081120;
            border-top: 2px solid #1a3a6e;
            box-shadow: 0 -2px 12px #0a3c75cc;
            color: #aaa;
        }
        footer a {
            color: #58a6ff;
            transition: 0.1s;
        }
   footer a:hover {
            color: #fff;
            text-shadow: 0 0 8px #58a6ff;
        }

/* Crew Ranking Fixed at Bottom Left */
.crew-fixed {
  position: fixed;
  top: auto;       /* thêm */
  left: 20px;
  bottom: 20px;
  width: 260px;
  background: rgba(10,20,40,0.85);
  border: 2px solid #1f4a8c;
  border-radius: 12px;
  padding: 12px 15px;
  color: #fff;
  font-size: 0.95rem;
  box-shadow: 0 0 18px rgba(0,0,0,0.6);
  z-index: 999;
  transition: 0.1s linear; /* nhanh hơn */
}


.crew-header {
  font-weight: bold;
  font-family: 'Butcherman', cursive;
  color: #ff6600;
  margin-bottom: 8px;
  text-align: center;
  font-size: 1rem;
  letter-spacing: 1px;
  text-shadow: 0 0 8px #ff6600, 0 0 16px #cc0000;
}

.crew-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.crew-list li {
  padding: 6px 0;
  display: flex;
  align-items: center;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

.crew-list li:last-child {
  border-bottom: none;
}

.rank {
  display: inline-block;
  width: 22px;
  height: 22px;
  line-height: 22px;
  text-align: center;
  border-radius: 50%;
  font-size: 0.85rem;
  font-weight: bold;
  margin-right: 8px;
  background: #2e4a7b;
  color: #fff;
}

.rank.gold {
  background: gold;
  color: #000;
}
.rank.silver {
  background: silver;
  color: #000;
}
.rank.bronze {
  background: #cd7f32;
  color: #000;
}
    
/* Loading Screen Styles - Professional Design */
#loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000000;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    transition: opacity 0.5s ease-out;
    overflow: hidden;
}

.loading-container {
    text-align: center;
    color: #fff;
    max-width: 600px;
    width: 90%;
    position: relative;
    z-index: 2;
    padding: 80px 20px;
}

.loading-logo {
    margin-bottom: 30px;
}

.loading-logo img {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    box-shadow: 0 0 40px rgba(88, 166, 255, 0.6), 
                0 0 80px rgba(88, 166, 255, 0.4),
                0 0 120px rgba(145, 234, 201, 0.2);
    animation: logoGlow 2.5s ease-in-out infinite alternate;
    border: 3px solid rgba(88, 166, 255, 0.3);
    padding: 5px;
    background: rgba(10, 20, 40, 0.5);
}

@keyframes logoGlow {
    0% { 
        box-shadow: 0 0 40px rgba(88, 166, 255, 0.6), 
                    0 0 80px rgba(88, 166, 255, 0.4),
                    0 0 120px rgba(145, 234, 201, 0.2);
        transform: scale(1) rotate(0deg);
    }
    50% {
        box-shadow: 0 0 50px rgba(145, 234, 201, 0.7), 
                    0 0 100px rgba(145, 234, 201, 0.5),
                    0 0 150px rgba(255, 215, 0, 0.3);
        transform: scale(1.08) rotate(2deg);
    }
    100% { 
        box-shadow: 0 0 40px rgba(88, 166, 255, 0.6), 
                    0 0 80px rgba(88, 166, 255, 0.4),
                    0 0 120px rgba(145, 234, 201, 0.2);
        transform: scale(1) rotate(0deg);
    }
}

.loading-title {
    font-size: 3.5rem;
    font-weight: 900;
    font-family: 'Creepster', cursive;
    background: linear-gradient(135deg, #ff6600 0%, #ff3300 50%, #9b30ff 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 15px;
    animation: halloweenTitleGlow 2s ease-in-out infinite alternate;
    letter-spacing: 3px;
    text-transform: uppercase;
    filter: drop-shadow(0 0 20px rgba(255, 102, 0, 0.8));
}

@keyframes titleGlow {
    0% { 
        filter: drop-shadow(0 0 20px rgba(248, 244, 1, 0.5));
        transform: translateY(0);
    }
    50% {
        filter: drop-shadow(0 0 30px rgba(145, 234, 201, 0.7)) 
                drop-shadow(0 0 50px rgba(88, 166, 255, 0.4));
        transform: translateY(-3px);
    }
    100% { 
        filter: drop-shadow(0 0 20px rgba(248, 244, 1, 0.5));
        transform: translateY(0);
    }
}

@keyframes halloweenTitleGlow {
    0% { 
        filter: drop-shadow(0 0 20px rgba(255, 102, 0, 0.8));
        transform: translateY(0);
    }
    50% {
        filter: drop-shadow(0 0 30px rgba(255, 51, 0, 1)) 
                drop-shadow(0 0 50px rgba(155, 48, 255, 0.6));
        transform: translateY(-3px);
    }
    100% { 
        filter: drop-shadow(0 0 20px rgba(255, 102, 0, 0.8));
        transform: translateY(0);
    }
}

.loading-subtitle {
    font-size: 1.3rem;
    font-family: 'Butcherman', cursive;
    color: #9b30ff;
    margin-bottom: 50px;
    font-weight: 600;
    letter-spacing: 2px;
    animation: pulse 2s ease-in-out infinite;
    text-shadow: 0 0 15px rgba(155, 48, 255, 0.8), 0 0 30px rgba(102, 0, 153, 0.5);
}

@keyframes pulse {
    0%, 100% { 
        opacity: 0.6;
        transform: scale(1);
    }
    50% { 
        opacity: 1;
        transform: scale(1.02);
    }
}

.loading-bar-container {
    margin-top: 40px;
}

.loading-bar {
    display: flex;
    gap: 8px;
    justify-content: center;
    align-items: center;
    padding: 15px 20px;
    background: #000000;
    border: 3px solid #333;
    border-radius: 12px;
    margin-bottom: 20px;
}

.loading-box {
    width: 35px;
    height: 35px;
    background: #1a1a1a;
    border: 2px solid #444;
    border-radius: 4px;
    transition: all 0.3s ease;
}

.loading-box.active {
    background: #ffffff;
    border-color: #ffffff;
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.8),
                0 0 30px rgba(255, 255, 255, 0.4);
    animation: boxPulse 0.6s ease;
}

@keyframes boxPulse {
    0% { 
        transform: scale(1);
    }
    50% { 
        transform: scale(1.15);
    }
    100% { 
        transform: scale(1);
    }
}

.loading-progress {
    display: none;
}

.loading-percentage {
    font-size: 2rem;
    font-weight: 900;
    background: linear-gradient(135deg, #58a6ff 0%, #91eac9 50%, #ffd700 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0 0 15px rgba(88, 166, 255, 0.6));
    letter-spacing: 3px;
    animation: percentPulse 1s ease-in-out infinite;
}

@keyframes percentPulse {
    0%, 100% { 
        transform: scale(1);
        filter: drop-shadow(0 0 15px rgba(88, 166, 255, 0.6));
    }
    50% { 
        transform: scale(1.05);
        filter: drop-shadow(0 0 25px rgba(145, 234, 201, 0.8));
    }
}

/* Video background */
#bg-video {
    position: fixed;
    top: 0;
    left: 0;
    min-width: 100%;
    min-height: 100%;
    object-fit: cover;
    z-index: -1; /* nằm dưới toàn bộ nội dung */
}

/* Canvas particles */
#bg-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -2; /* nằm dưới cả video để blend nền (hoặc đổi -1.5 nếu muốn trên) */
    pointer-events: none;
}

/* Con trỏ phát sáng nhẹ theo chủ đề */
body { cursor: url('logo.png') 8 8, auto; }

/* Light theme overrides */
body.light-theme {
    color: #0b1a33;
}
.light-theme .navbar {
    background: #ffffffee;
    border-bottom-color: #cfe0ff;
    box-shadow: 0 2px 12px rgba(15, 50, 102, 0.2);
}
.light-theme .navbar-brand { color: #0b1a33 !important; text-shadow: none; }
.light-theme .nav-link { color: #234 !important; }
.light-theme .nav-link.active, .light-theme .nav-link:hover { color: #0f5bd6 !important; text-shadow: none; }

.light-theme .section-main, .light-theme .section-intro, .light-theme .section-trailer, .light-theme .section-about {
    background: linear-gradient(120deg, #f7fbff 0%, #eef5ff 100%);
    color: #0b1a33;
}
.light-theme .section-title { color: #0f5bd6; text-shadow: none; }
.light-theme .logo-title { color: #0b1a33; text-shadow: none; }
.light-theme .roleplay-title { color: #0f5bd6; text-shadow: none; }

.light-theme .info-box, .light-theme .trailer-card, .light-theme .city-card, .light-theme .crew-fixed {
    background: rgba(255,255,255,0.85);
    border-color: #cfe0ff;
    color: #0b1a33;
    box-shadow: 0 0 12px rgba(15, 50, 102, 0.08) inset;
}
.light-theme .trailer-card .caption { background: #e7f0ff; color: #0b1a33; }
.light-theme footer { background: #ffffffee; border-top-color: #cfe0ff; color: #234; box-shadow: 0 -2px 12px rgba(15, 50, 102, 0.12); }
.light-theme footer a { color: #0f5bd6; }

/* ===========================
   RESPONSIVE MOBILE DESIGN
   =========================== */

@media (max-width: 768px) {
    /* Body & Sections */
    body {
        padding-top: 60px;
    }
    
    section {
        padding-top: 40px;
        padding-bottom: 40px;
        min-height: auto;
    }
    
    .container {
        padding-left: 15px !important;
        padding-right: 15px !important;
    }
    
    /* Navbar */
    .navbar-brand {
        font-size: 1.5rem !important;
    }
    
    .navbar-brand img {
        height: 25px !important;
    }
    
    .navbar-toggler {
        padding: 0.5rem;
        font-size: 1.2rem;
    }
    
    /* Logo Title */
    .logo-title {
        font-size: 4rem !important;
        letter-spacing: 2px;
    }
    
    .roleplay-title {
        font-size: 1.5rem !important;
    }
    
    /* Info Boxes */
    .info-boxes {
        flex-wrap: wrap;
        gap: 1rem;
    }
    
    .info-box {
        min-width: 90px;
        padding: 1rem 1.5rem;
        font-size: 1rem;
    }
    
    .info-box i {
        font-size: 1.3rem;
    }
    
    .info-box span {
        font-size: 1.3rem !important;
    }
    
    /* Buttons */
    .btn-play {
        font-size: 1.1rem !important;
        padding: 0.8rem 2rem !important;
    }
    
    /* Section Titles */
    .section-title {
        font-size: 2rem !important;
        margin-bottom: 1.5rem;
    }
    
    /* About Section */
    .about-title {
        font-size: 2rem !important;
    }
    
    .about-sub {
        font-size: 1rem !important;
    }
    
    .about-text {
        font-size: 0.95rem !important;
        line-height: 1.8;
    }
    
    /* Trailer Cards */
    .trailer-card {
        margin-bottom: 2rem;
    }
    
    .trailer-card img {
        height: 200px;
    }
    
    .trailer-card .caption h5 {
        font-size: 1.1rem !important;
    }
    
    /* VIP Float */
    .vip-float {
        width: 300px !important;
        margin-top: 40px;
    }
    
    /* VIP Icons */
    .vip-box img,
    #vip-section img[style*="width:60px"] {
        width: 45px !important;
    }
    
    #vip-main-img {
        width: 150px !important;
    }
    
    #vip-text {
        font-size: 1rem !important;
    }
    
    /* Crew Fixed - Hide on mobile or make smaller */
    .crew-fixed {
        width: 200px;
        font-size: 0.85rem;
        padding: 10px 12px;
        bottom: 10px;
        left: 10px;
    }
    
    .crew-header {
        font-size: 0.9rem;
        margin-bottom: 6px;
    }
    
    .rank {
        width: 18px;
        height: 18px;
        line-height: 18px;
        font-size: 0.75rem;
    }
    
    /* Event Logo */
    #event-logo {
        bottom: 10px;
        right: 10px;
    }
    
    #event-logo img {
        width: 60px !important;
        height: 60px !important;
    }
    
    /* Settings Toggle */
    #settings-toggle {
        right: 10px !important;
        bottom: 80px !important;
    }
    
    #settings-btn {
        padding: 8px 12px !important;
        font-size: 0.9rem;
    }
    
    #settings-panel {
        min-width: 180px !important;
        font-size: 0.85rem;
    }
    
    /* Loading Screen */
    .loading-logo img {
        width: 100px !important;
        height: 100px !important;
    }
    
    .loading-title {
        font-size: 2.5rem !important;
    }
    
    .loading-subtitle {
        font-size: 1rem !important;
    }
    
    .loading-bar {
        padding: 12px 15px;
        gap: 5px;
    }
    
    .loading-box {
        width: 25px !important;
        height: 25px !important;
    }
    
    .loading-percentage {
        font-size: 1.5rem !important;
    }
    
    /* Recruitment Section */
    #recruitment-section .trailer-card {
        padding: 2rem 1.5rem !important;
    }
    
    #recruitment-section h2 {
        font-size: 1.8rem !important;
    }
    
    #recruitment-section p {
        font-size: 1rem !important;
    }
    
    #recruitment-section img[src="lspd.png"] {
        width: 200px !important;
    }
    
    /* Footer */
    footer {
        font-size: 0.9rem;
        padding: 2rem 0 !important;
    }
    
    footer a i {
        font-size: 1.3rem;
    }
    
    /* Halloween pumpkin decorations - adjust for tablet */
    .section-title::before,
    .section-title::after {
        width: 50px !important;
        height: 50px !important;
        left: -70px !important;
    }
    
    .section-title::after {
        right: -70px !important;
        left: auto !important;
    }
    
    /* VIP Section responsive */
    #vip-section .section-title {
        font-size: 2rem !important;
    }
    
    /* About section responsive */
    .section-about {
        padding: 3rem 1rem !important;
    }
    
    .section-about img {
        height: 120px !important;
        margin-bottom: 1.5rem;
        margin-right: 0 !important;
    }
    
    .section-about .container {
        flex-direction: column !important;
        text-align: center !important;
    }
}

@media (max-width: 480px) {
    /* Extra small screens */
    .logo-title {
        font-size: 2.5rem !important;
    }
    
    .roleplay-title {
        font-size: 1.2rem !important;
    }
    
    .navbar-brand {
        font-size: 1.2rem !important;
    }
    
    .navbar-brand img {
        height: 20px !important;
    }
    
    .info-boxes {
        gap: 0.8rem;
        flex-direction: column;
        width: 100%;
    }
    
    .info-box {
        min-width: 100%;
        max-width: 300px;
        margin: 0 auto;
        padding: 1rem 1.5rem;
        font-size: 1rem;
    }
    
    .btn-play {
        font-size: 1rem !important;
        padding: 0.8rem 2rem !important;
        width: 100%;
        max-width: 300px;
    }
    
    .section-title {
        font-size: 1.5rem !important;
        padding: 0 10px;
    }
    
    /* Hide crew ranking on very small screens */
    .crew-fixed {
        display: none !important;
    }
    
    /* Hide event logo on very small screens */
    #event-logo {
        width: 50px !important;
        height: 50px !important;
    }
    
    #event-logo img {
        width: 50px !important;
        height: 50px !important;
    }
    
    /* Settings toggle smaller */
    #settings-toggle {
        bottom: 65px !important;
    }
    
    #settings-btn {
        padding: 6px 10px !important;
        font-size: 0.8rem !important;
    }
    
    /* Adjust loading boxes for small screens */
    .loading-box {
        width: 20px !important;
        height: 20px !important;
    }
    
    .loading-bar {
        gap: 4px;
        padding: 10px 12px;
    }
    
    .loading-title {
        font-size: 2rem !important;
    }
    
    .loading-subtitle {
        font-size: 0.9rem !important;
    }
    
    /* Trailer cards full width */
    .trailer-card {
        margin-bottom: 1.5rem;
    }
    
    .trailer-card img {
        height: 180px !important;
    }
    
    /* VIP section */
    #vip-section img[style*="width:60px"] {
        width: 40px !important;
        height: 40px !important;
    }
    
    #vip-main-img {
        width: 120px !important;
    }
    
    #vip-text {
        font-size: 0.9rem !important;
        padding: 0 15px;
    }
    
    /* Recruitment section */
    #recruitment-section h2 {
        font-size: 1.5rem !important;
    }
    
    #recruitment-section p {
        font-size: 0.9rem !important;
    }
    
    #recruitment-section img[src="lspd.png"] {
        width: 150px !important;
    }
    
    #recruitment-section .trailer-card {
        padding: 1.5rem 1rem !important;
    }
    
    /* About section */
    .about-title {
        font-size: 1.5rem !important;
    }
    
    .about-sub {
        font-size: 0.9rem !important;
    }
    
    .about-text {
        font-size: 0.85rem !important;
    }
    
    .section-about img {
        height: 100px !important;
    }
    
    /* MV Section */
    #mv-section .trailer-card img {
        height: auto !important;
    }
    
    /* Grid layouts responsive */
    .row.g-4 {
        gap: 1rem !important;
    }
    
    .col-md-6, .col-md-4, .col-lg-8, .col-lg-4 {
        padding-left: 10px !important;
        padding-right: 10px !important;
    }
    
    /* VIP float image */
    .vip-float {
        width: 200px !important;
        margin-top: 20px !important;
    }
    
    /* Recruitment section grid */
    #recruitment-section .trailer-card > div {
        padding: 0 !important;
    }
    
    #recruitment-section div[style*="grid"] {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
    }
    
    /* Better button spacing */
    .btn-play {
        margin: 0.5rem auto !important;
        display: block !important;
    }
    
    /* Nav links spacing */
    .navbar-nav .nav-item {
        margin-bottom: 0.5rem;
    }
    
    .navbar-nav.ms-3 {
        margin-top: 0.5rem !important;
    }
}

/* Landscape orientation on small devices */
@media (max-width: 768px) and (orientation: landscape) {
    .logo-title {
        font-size: 3rem !important;
    }
    
    .roleplay-title {
        font-size: 1.3rem !important;
    }
    
    section {
        padding-top: 30px !important;
        padding-bottom: 30px !important;
    }
    
    .info-boxes {
        flex-direction: row !important;
        flex-wrap: wrap;
    }
    
    .info-box {
        min-width: 30% !important;
        max-width: 30% !important;
    }
}

    /* VIP SYSTEM */
    .vip-item {
      background: rgba(10,20,40,0.85);
      border: 2px solid #1f4a8c;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.2s;
    }
    .vip-item:hover {
      transform: scale(1.03);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    /* Remove default outline and focus effects */
    *:focus,
    *:focus-visible {
      outline: none !important;
    }
    
    a, button, input, select, textarea {
      outline: none !important;
    }
    
    /* HALLOWEEN THEME STYLES */
    h2, h3, h4, h5 {
      font-family: 'Butcherman', cursive;
    }
    
    /* Position relative for titles with pseudo-elements */
    .logo-title {
      position: relative;
      display: inline-block;
    }
    
    /* Make sure section-title wraps properly */
    .section-title {
      width: auto;
      display: inline-block;
      font-family: 'Creepster', cursive !important;
      color: #ff6600 !important;
      text-shadow: 0 2px 12px #ff3300, 0 0 30px #cc0000, 4px 4px 8px #000 !important;
    }
    
    /* Halloween pumpkin decoration for section titles using bingo.png */
    .section-title::before {
      content: '';
      position: absolute;
      left: -100px;
      top: 50%;
      transform: translateY(-50%);
      width: 70px;
      height: 70px;
      background: url('bingo.png') center/contain no-repeat;
      animation: pumpkinRotate 3s ease-in-out infinite;
      filter: drop-shadow(0 0 15px rgba(255, 153, 0, 0.8));
      z-index: -1;
      mix-blend-mode: screen;
    }
    
    .section-title::after {
      content: '';
      position: absolute;
      right: -100px;
      top: 50%;
      transform: translateY(-50%) scaleX(-1);
      width: 70px;
      height: 70px;
      background: url('bingo.png') center/contain no-repeat;
      animation: pumpkinRotate 3s ease-in-out infinite reverse;
      filter: drop-shadow(0 0 15px rgba(255, 153, 0, 0.8));
      z-index: -1;
      mix-blend-mode: screen;
    }
    
    @keyframes pumpkinRotate {
      0%, 100% {
        transform: translateY(-50%) rotate(0deg);
      }
      50% {
        transform: translateY(-55%) rotate(10deg);
      }
    }
    
    /* Hide pumpkin decorations on mobile */
    @media (max-width: 768px) {
      .section-title::before,
      .section-title::after {
        display: none;
      }
    }
    
    /* Spooky glowing effect for info boxes */
    .info-box {
      border-color: #660000 !important;
      box-shadow: 0 0 20px rgba(255, 102, 0, 0.3) inset;
    }
    
    .info-box:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    }
    
    /* Halloween button effects */
    .btn-play {
      background: linear-gradient(135deg, #ff6600, #cc0000, #660000) !important;
      box-shadow: 0 8px 25px rgba(255, 102, 0, 0.6), 0 0 0 1px rgba(0, 0, 0, 0.3) !important;
    }
    
    .btn-play:hover {
      background: linear-gradient(135deg, #ff8800, #ff6600, #cc0000) !important;
      box-shadow: 0 15px 35px rgba(255, 102, 0, 0.8), 0 0 30px rgba(204, 0, 0, 0.6) !important;
    }
    
    /* Spooky subtitle text */
    .about-sub {
      font-family: 'Butcherman', cursive;
      color: #9b30ff !important;
      text-shadow: 0 0 10px rgba(155, 48, 255, 0.6);
    }
    
    /* Halloween footer styling */
    footer a {
      color: #ff6600 !important;
    }
    
    footer a:hover {
      color: #fff !important;
      text-shadow: 0 0 8px #ff6600, 0 0 16px #cc0000 !important;
    }
    
    /* Halloween card titles */
    .trailer-card .caption {
      background: linear-gradient(135deg, rgba(20, 10, 5, 0.95), rgba(30, 15, 10, 0.9)) !important;
    }
    
    /* Spooky recruitment title */
    #recruitment-section h2 {
      font-family: 'Creepster', cursive !important;
      color: #ff6600 !important;
      text-shadow: 0 0 20px #ff3300, 0 0 40px #cc0000, 3px 3px 6px #000 !important;
    }
    
    /* Halloween loading percentage */
    .loading-percentage {
      background: linear-gradient(135deg, #ff6600 0%, #9b30ff 50%, #cc0000 100%) !important;
    }
    
    /* Pumpkin decoration on loading screen using bingo.png */
    .loading-container::before {
      content: '';
      position: absolute;
      top: -70px;
      left: 50%;
      transform: translateX(-50%);
      width: 70px;
      height: 70px;
      background: url('bingo.png') center/contain no-repeat;
      animation: pumpkinBounceLoading 2s ease-in-out infinite;
      filter: drop-shadow(0 0 20px rgba(255, 153, 0, 1));
      mix-blend-mode: screen;
    }
    
    .loading-container::after {
      content: '';
      position: absolute;
      bottom: -70px;
      left: 50%;
      transform: translateX(-50%) rotate(180deg);
      width: 70px;
      height: 70px;
      background: url('bingo.png') center/contain no-repeat;
      animation: pumpkinBounceLoading 2s ease-in-out infinite 1s;
      filter: drop-shadow(0 0 20px rgba(255, 153, 0, 1));
      mix-blend-mode: screen;
    }
    
    @keyframes pumpkinBounceLoading {
      0%, 100% {
        transform: translateX(-50%) translateY(0) rotate(0deg);
      }
      50% {
        transform: translateX(-50%) translateY(-15px) rotate(10deg);
      }
    }
    
    /* Spooky border colors */
    .trailer-card {
      border: 2px solid #660000 !important;
    }
    
    .trailer-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4) !important;
    }
    
    /* HALLOWEEN JUMPSCARE WITH GLITCH */
    #jumpscare-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: #000;
      z-index: 99999;
      display: none;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      opacity: 0;
      transition: opacity 0.1s ease;
      animation: screenShake 0.5s ease-in-out;
    }
    
    #jumpscare-overlay.show {
      display: flex;
    }
    
    #jumpscare-overlay.visible {
      opacity: 1;
    }
    
    /* Static noise background */
    #jumpscare-overlay::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px);
      opacity: 1;
      animation: staticNoise 0.1s infinite, glitchFlash 0.3s infinite;
      pointer-events: none;
      z-index: 1;
    }
    
    #jumpscare-image {
      max-width: 90vw;
      max-height: 90vh;
      object-fit: contain;
      position: relative;
      z-index: 2;
      animation: 
        jumpscareShake 0.6s ease-in-out,
        jumpscareZoom 0.6s ease-out,
        glitchEffect 0.3s infinite,
        colorGlitch 0.5s infinite;
      filter: brightness(1.5) contrast(2) saturate(1.5);
      box-shadow: 
        0 0 100px rgba(255, 0, 0, 1),
        0 0 200px rgba(139, 0, 0, 0.8),
        inset 0 0 50px rgba(0, 0, 0, 0.5);
    }
    
    /* Screen shake for entire overlay */
    @keyframes screenShake {
      0%, 100% { transform: translate(0, 0); }
      10% { transform: translate(-10px, 5px); }
      20% { transform: translate(10px, -5px); }
      30% { transform: translate(-10px, -5px); }
      40% { transform: translate(10px, 5px); }
      50% { transform: translate(-5px, 10px); }
      60% { transform: translate(5px, -10px); }
      70% { transform: translate(-5px, -10px); }
      80% { transform: translate(5px, 10px); }
      90% { transform: translate(-2px, -2px); }
    }
    
    @keyframes jumpscareShake {
      0%, 100% { transform: translate(0, 0) rotate(0deg) scaleX(1); }
      10% { transform: translate(-20px, -15px) rotate(-5deg) scaleX(1.05); }
      20% { transform: translate(20px, 15px) rotate(5deg) scaleX(0.95); }
      30% { transform: translate(-20px, 15px) rotate(-3deg) scaleX(1.1); }
      40% { transform: translate(20px, -15px) rotate(3deg) scaleX(0.9); }
      50% { transform: translate(-15px, -10px) rotate(-4deg) scaleX(1.05); }
      60% { transform: translate(15px, 10px) rotate(4deg) scaleX(0.95); }
      70% { transform: translate(-10px, 10px) rotate(-2deg) scaleX(1.02); }
      80% { transform: translate(10px, -10px) rotate(2deg) scaleX(0.98); }
      90% { transform: translate(-5px, -5px) rotate(-1deg) scaleX(1.01); }
    }
    
    @keyframes jumpscareZoom {
      0% { transform: scale(0.3); opacity: 0; filter: blur(10px); }
      30% { transform: scale(1.3); opacity: 1; filter: blur(0px); }
      100% { transform: scale(1); filter: blur(0px); }
    }
    
    /* Glitch effect - RGB split */
    @keyframes glitchEffect {
      0% {
        transform: translate(0);
        filter: brightness(1.5) contrast(2) saturate(1.5);
      }
      20% {
        transform: translate(-5px, 5px);
        filter: brightness(2) contrast(3) saturate(2) hue-rotate(90deg);
      }
      40% {
        transform: translate(5px, -5px);
        filter: brightness(1) contrast(2.5) saturate(1) hue-rotate(-90deg);
      }
      60% {
        transform: translate(-3px, -3px);
        filter: brightness(1.8) contrast(2) saturate(1.8) hue-rotate(180deg);
      }
      80% {
        transform: translate(3px, 3px);
        filter: brightness(1.3) contrast(2.2) saturate(1.3) hue-rotate(-45deg);
      }
      100% {
        transform: translate(0);
        filter: brightness(1.5) contrast(2) saturate(1.5);
      }
    }
    
    /* Color channel separation glitch */
    @keyframes colorGlitch {
      0%, 100% {
        text-shadow: none;
      }
      25% {
        text-shadow: -5px 0 red, 5px 0 cyan;
      }
      50% {
        text-shadow: 5px 0 magenta, -5px 0 lime;
      }
      75% {
        text-shadow: -3px 0 blue, 3px 0 yellow;
      }
    }
    
    /* Static noise animation */
    @keyframes staticNoise {
      0% { opacity: 0.05; }
      50% { opacity: 0.15; }
      100% { opacity: 0.05; }
    }
    
    /* Flash glitch */
    @keyframes glitchFlash {
      0%, 100% {
        background-color: transparent;
      }
      10% {
        background-color: rgba(255, 0, 0, 0.1);
      }
      20% {
        background-color: rgba(0, 255, 0, 0.1);
      }
      30% {
        background-color: rgba(0, 0, 255, 0.1);
      }
    }
    
    /* Blood pulse effect for background */
    #jumpscare-overlay::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(139, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.3) 50%, transparent 100%);
      animation: bloodPulse 0.2s ease-in-out infinite;
      pointer-events: none;
      z-index: 0;
    }
    
    @keyframes bloodPulse {
      0%, 100% { 
        opacity: 0.5;
        transform: scale(1);
      }
      50% { 
        opacity: 1;
      transform: scale(1.05);
      }
    }
    
    /* Scanlines effect */
    #jumpscare-image::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.15),
        rgba(0, 0, 0, 0.15) 1px,
        transparent 1px,
        transparent 2px
      );
      pointer-events: none;
      animation: scanlines 0.1s linear infinite;
    }
    
    @keyframes scanlines {
      0% { transform: translateY(0); }
      100% { transform: translateY(4px); }
    }

  </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-container">
            <div class="loading-logo">
                <img src="logo.png" alt="RLIFE CITY Logo" />
                <div class="loading-title">RLIFE CITY</div>
                <div class="loading-subtitle">Loading...</div>
            </div>
            <div class="loading-bar-container">
                <div class="loading-bar" id="loading-boxes">
                    <div class="loading-box"></div>
                    <div class="loading-box"></div>
                    <div class="loading-box"></div>
                    <div class="loading-box"></div>
                    <div class="loading-box"></div>
                    <div class="loading-box"></div>
                    <div class="loading-box"></div>
                    <div class="loading-box"></div>
                    <div class="loading-box"></div>
                    <div class="loading-box"></div>
                </div>
                <div class="loading-percentage" id="loading-percentage">0%</div>
            </div>
        </div>
    </div>

    <!-- Halloween Jumpscare Overlay -->
    <div id="jumpscare-overlay">
        <img id="jumpscare-image" src="ma.jpg" alt="👻">
    </div>

    <!-- Video background -->
    <video autoplay muted loop id="bg-video" style="display: none;">
        <source src="helot_4.mp4" type="video/mp4">
        Trình duyệt của bạn không hỗ trợ video nền.
    </video>
    <!-- Particles/Nebula Canvas -->
    <canvas id="bg-canvas"></canvas>
    
    <!-- Main Content Container (hidden during loading) -->
    <div id="main-content" style="display: none;">
    
    <!-- Floating Settings Toggle -->
    <div id="settings-toggle" class="reveal" style="position:fixed; right:20px; bottom:20px; z-index:1000;">
        <div id="settings-btn" style="background:#0a1428; border:2px solid #1f4a8c; color:#fff; border-radius:50px; padding:10px 14px; cursor:pointer; box-shadow:0 0 16px rgba(88,166,255,0.4);">
            <i class="fa fa-gear"></i> Cài đặt
        </div>
        <div id="settings-panel" style="display:none; margin-top:8px; background:rgba(10,20,40,0.9); border:2px solid #1f4a8c; border-radius:12px; padding:12px 14px; min-width:220px;">
            <div style="font-weight:bold; color:#58a6ff; margin-bottom:20px;">Tuỳ chọn hiển thị</div>
            <label style="display:flex; align-items:center; justify-content:space-between; margin-bottom:6px;">
                <span>Chế độ nhẹ</span>
                <input type="checkbox" id="toggle-lite" />
            </label>
            <label style="display:flex; align-items:center; justify-content:space-between;">
                <span>Giao diện sáng</span>
                <input type="checkbox" id="toggle-light" />
            </label>
        </div>
    </div>

    <!-- Giữ nguyên toàn bộ HTML gốc -->
    <!-- Navbar -->
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="logo.png" alt="Logo" style="height:40px;vertical-align:middle;margin-right:10px;">
                RLIFE CITY
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mainNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a href="#main-section" class="nav-link active">Trang chủ</a></li>
                    <li class="nav-item"><a href="#intro-section" class="nav-link">Tin tức</a></li>
                    <li class="nav-item"><a href="#recruitment-section" class="nav-link">Tuyển dụng</a></li>
                    <li class="nav-item"><a href="https://sites.google.com/view/rlifecom" target="_blank" rel="noopener" class="nav-link">Luật Máy chủ</a></li>
                    <li class="nav-item"><a href="#about-section" class="nav-link">Đăng nhập</a></li>
                </ul>
                <ul class="navbar-nav ms-3">
                    <!-- Facebook -->
                    <li class="nav-item">
                        <a href="https://www.facebook.com/groups/1817261779149186" target="_blank" class="nav-link">
                            <i class="fab fa-facebook"></i>
                        </a>
                    </li>
                    <!-- TikTok -->
                    <li class="nav-item">
                        <a href="https://www.tiktok.com/@r_lifecity?_t=ZS-8zYxzbP9MYL&_r=1" target="_blank" class="nav-link">
                            <i class="fab fa-tiktok"></i>
                        </a>
                    </li>
                    <!-- YouTube -->
                    <li class="nav-item">
                        <a href="https://www.youtube.com/channel/UCZ9iaRX-KkBBfK7uHHL8caA" target="_blank" class="nav-link">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Các section giữ nguyên -->
    <section class="section-main" id="main-section">
        <div class="header-main text-center">
            <div class="container">
                <div class="logo-title mb-2">RLIFE CITY</div>
                <div class="roleplay-title mb-4">ROLEPLAY</div>
                <div class="mb-2" style="font-size:1.2rem;">LOS SANTOS - Roleplay City</div>
                <div class="info-boxes">
                    <div class="info-box"><i class="fa fa-users"></i><br>Tổng<br><span style="font-size:2rem;">1294</span></div>
                    <div class="info-box">
  <i class="fa fa-signal"></i><br>Online<br>
  <span id="online-count" style="font-size:2rem;">37</span>
</div>
                    <div class="info-box"><i class="fa fa-server"></i><br>Server<br><span style="font-size:2rem;">RLIFE CITY</span></div>
                </div>
                <button class="btn-play mt-3" onclick="window.location.href='RLife.exe'">
    <i class="fa fa-play"></i> Chơi ngay
</button>

            </div>
        </div>
    </section>

 <section class="section-intro" id="intro-section">
  <div class="container mt-5">
    <div class="row">
      <!-- Bên trái: Tin tức -->
      <div class="col-lg-8">
        <div class="section-title">TIN TUC MOI NHAT</div>
        <div class="row g-4">
          <div class="col-md-6">
            <div class="trailer-card">
              <img src="gioithieu.png" alt="Giới thiệu thành phố">
              <div class="caption">
                <h5>GIỚI THIỆU THÀNH PHỐ</h5>
                <small>Diễn ra từ 1/8 đến 23/8</small><br>
                <a href="gioithieumaychu.html" class="btn btn-sm btn-primary mt-2">Chi tiết</a>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="trailer-card">
              <img src="xitson.png" alt="Đua top xịt sơn">
              <div class="caption">
                <h5>SỰ KIỆN ĐUA TOP XỊT SƠN</h5>
                <small>Chi tiết đua top xịt sơn</small><br>
                <a href="duatopxitson.html" class="btn btn-sm btn-primary mt-2">Chi tiết</a>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="trailer-card">
              <img src="banner.png" alt="Sự kiện bắn súng">
              <div class="caption">
                <h5>SỰ KIỆN: SHOOT IT</h5>
                <small>Chi tiết thi đấu</small>
             <a href="shootit.html" class="btn btn-sm btn-primary mt-2">Chi tiết</a>
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="trailer-card">
              <img src="Quoc-khanh-2-9.jpg" alt="Sự kiện quốc khánh">
              <div class="caption">
                <h5>SỰ KIỆN QUỐC KHÁNH 2-9</h5>
                <small>80 năm Quốc khánh</small>
             <a href="#" class="btn btn-sm btn-primary mt-2">Chi tiết</a>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- Bên phải: Sidebar -->
      <div class="col-lg-4">
        <div class="trailer-card mb-4">
          <img src="MV.jpg" alt="Rlife City">
          <div class="caption">
            <h5>RLIFE CITY CANDY SHOP (MV nhạc)</h5>
            <small>Rlife City</small>
 <a href="https://youtu.be/SO0evZSmFwA" class="btn btn-sm btn-primary mt-2">Bấm để xem</a>

          </div>
        </div>
<!-- Sidebar bên phải -->
<div class="col-lg-4">
  <!-- Hình VIP 10 trôi -->
  <div class="vip-box">
    <img src="vip10.png" alt="." class="vip-float">
  </div>
</div>


        </div>
      </div>
    </div>
  </div>
</section>
<section class="section-intro" id="vip-section">
  <div class="container mt-5">
    <div class="section-title text-center">HE THONG VIP</div>

    <!-- Các icon VIP nhỏ nằm ngang -->
    <div style="display:flex; flex-direction:row; justify-content:center; gap:15px; flex-wrap:wrap; margin:20px 0;">
      <img src="vip1.png" style="width:60px; cursor:pointer;" onclick="showVip(1)">
      <img src="vip2.png" style="width:60px; cursor:pointer;" onclick="showVip(2)">
      <img src="vip3.png" style="width:60px; cursor:pointer;" onclick="showVip(3)">
      <img src="vip4.png" style="width:60px; cursor:pointer;" onclick="showVip(4)">
      <img src="vip5.png" style="width:60px; cursor:pointer;" onclick="showVip(5)">
      <img src="vip6.png" style="width:60px; cursor:pointer;" onclick="showVip(6)">
      <img src="vip7.png" style="width:60px; cursor:pointer;" onclick="showVip(7)">
      <img src="vip8.png" style="width:60px; cursor:pointer;" onclick="showVip(8)">
      <img src="vip9.png" style="width:60px; cursor:pointer;" onclick="showVip(9)">
      <img src="vip10.png" style="width:60px; cursor:pointer;" onclick="showVip(10)">
    </div>

    <!-- Hình VIP to + text nằm dưới -->
    <div style="background:rgba(0,0,0,0.6); padding:50px; border-radius:20px; text-align:center; max-width:600px; margin:auto;">
      <img id="vip-main-img" src="vip1.png" alt="VIP chính" style="width:200px; height:auto;">
      <p id="vip-text" style="color:white; margin-top:10px; font-size:23px; font-weight:200;">
        Bấm vào các icon VIP bên trên để xem quyền lợi
      </p>
    </div>
  </div>
</section>


<script>
  const vipData = {
    1: {img:"vip1.png", text:"Quyền lợi VIP 1 khi bạn cống hiến được 5.000 coin\n🏅Phần thưởng: Chiếc xe Sh350 và Biển Số Mang Tên Chủ Sở Hữu"},
    2: {img:"vip2.png", text:"Quyền lợi VIP 2 khi bạn cống hiến được 10.000 coin"},
    3: {img:"vip3.png", text:"Quyền lợi VIP 3 khi bạn cống hiến được 15.000 coin"},
    4: {img:"vip4.png", text:"Quyền lợi VIP 4 khi bạn cống hiến được 20.000 coin"},
    5: {img:"vip5.png", text:"Quyền lợi VIP 5 khi bạn cống hiến được 25.000 coin\n🏅Phần thưởng: Đồ độc quyền VIP 5"},
    6: {img:"vip6.png", text:"Quyền lợi VIP 6 khi bạn cống hiến được 30.000 coin"},
    7: {img:"vip7.png", text:"Quyền lợi VIP 7 khi bạn cống hiến được 35.000 coin\n🏅Phần thưởng: Chiếc xe Urus 6x6 và Biển Số Mang Tên Chủ Sở Hữu"},
    8: {img:"vip8.png", text:"Quyền lợi VIP 8 khi bạn cống hiến được 40.000 coin"},
    9: {img:"vip9.png", text:"Quyền lợi VIP 9 khi bạn cống hiến được 45.000 coin"},
    10:{img:"vip10.png", text:"Quyền lợi VIP 10 khi bạn cống hiến được 50.000 coin\n🏅Phần thưởng: Đồ Độc Quyền và Xe Độc Quyền của VIP 10 Biển Số Mang Tên Chủ Sở Hữu "},


  };

  function showVip(id) {
    document.getElementById("vip-main-img").src = vipData[id].img;
    document.getElementById("vip-text").innerText = vipData[id].text;
  }




</script>
      </div>
    </div>
  </div>
</section>

<!-- Section Tuyển dụng cảnh sát -->
<section class="section-intro" id="recruitment-section">
  <div class="container mt-5">
    <div class="section-title text-center">TUYEN DUNG CANH SAT</div>
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="trailer-card text-center" style="background: linear-gradient(145deg, rgba(10, 20, 40, 0.95), rgba(15, 30, 50, 0.9)); border: 2px solid #1f4a8c; border-radius: 20px; padding: 3rem;">
          
          <!-- Logo LSPD -->
          <div style="margin-bottom: 2rem;">
            <img src="lspd.png" alt="LSPD RLIFE CITY" style="width:300px; border-radius:15px; box-shadow:0 0 35px rgba(88,166,255,0.7); animation:pulseGlow 2s infinite alternate;">
          </div>
          
          <!-- Tiêu đề -->
          <h2 style="
            font-size: 2.5rem; 
            font-weight: bold; 
            color: #58a6ff; 
            margin-bottom: 1rem;
            text-shadow: 0 0 20px #58a6ff;
          ">
            LOS SANTOS POLICE DEPARTMENT
          </h2>
          
          <!-- Mô tả -->
          <p style="font-size: 1.5rem; color: #ddd; margin-bottom: 2.5rem; line-height: 2;">
            Tham gia lực lượng cảnh sát Los Santos và bảo vệ công lý cho thành phố. 
            Chúng tôi đang tìm kiếm những ứng viên tận tâm, có trách nhiệm và sẵn sàng phục vụ cộng đồng.
          </p>
          
          <!-- Thông tin tuyển dụng -->
          <div style="background: rgba(10, 45, 95, 0.5); border-radius: 20px; padding: 2rem; margin: 2rem 0; border: 1px solid #1f4a8c;">
            <h4 style="color: #59a6ff; margin-bottom: 1.5rem; font-size: 1.5rem;">
              <i class="fa fa-info-circle" style="margin-right: 10px;"></i>
              THÔNG TIN TUYỂN DỤNG
            </h4>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 5fr)); gap: 1rem; text-align: left;">
              <div style="color: #fff;">
                <strong style="color: #CC0000;">📋 YÊU CẦU:</strong><br>
                • Tuổi từ 18 trở lên<br>
                • Có kinh nghiệm roleplay<br>
                • Thái độ tích cực
              </div>
              <div style="color: #fff;">
                <strong style="color: #CC0000;">⏰ THỜI GIAN:</strong><br>
                • Tuyển dụng 24/7<br>
                • Phỏng vấn linh hoạt<br>
                • Đào tạo miễn phí
              </div>
              <div style="color: #fff;">
                <strong style="color: #CC0000;">🎯 QUYỀN LỢI:</strong><br>
                • Trang bị chuyên nghiệp<br>
                • Hỗ trợ từ đồng nghiệp<br>
                • Cơ hội thăng tiến
              </div>
            </div>
          </div>
          
          <!-- Nút tham gia Discord -->
          <a href="https://discord.gg/c77rUvYD3Q" target="_blank" class="btn-play" style="margin-top:1rem;">
            <i class="fab fa-discord" style="margin-right: 10px;"></i>
            THAM GIA NGAY
          </a>
          
          <!-- Thông tin bổ sung -->
          <div style="margin-top: 2rem; color: #aaa; font-size: 0.9rem;">
            <i class="fa fa-clock" style="margin-right: 5px;"></i>
            Tuyển dụng 24/24 - Liên hệ ngay để được hỗ trợ
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section-trailer" id="trailer-section">
    <div class="container mt-5">
        <div class="section-title text-center">THAM GIA NGAY !!</div>
        <div class="row justify-content-center">
            <!-- Bước 1 -->
            <div class="col-md-4 mb-4 d-flex">
                <div class="trailer-card text-center d-flex flex-column justify-content-between w-100">
                    <div>
                        <div style="font-size:2rem;font-weight:bold;color:#58a6ff;">BƯỚC 1</div>
                        <div style="font-size:1.3rem;font-weight:bold;">TẢI VÀ CÀI ĐẶT GTA5</div>
                        <div class="mt-3" style="color:#ccc;">
                            Nếu bạn có bản quyền: Bạn có thể tải trên steam, epic games hoặc tải ở đây
                        </div>
                    </div>
                    <a href="https://store.steampowered.com/app/3240220/Grand_Theft_Auto_V_Enhanced/?snr=1_7_7_151_150_1"
                       target="_blank" class="btn-play mt-3">TẢI GAME GỐC</a>
                </div>
            </div>
            <!-- Bước 2 -->
            <div class="col-md-4 mb-4 d-flex">
                <div class="trailer-card text-center d-flex flex-column justify-content-between w-100">
                    <div>
                        <div style="font-size:2rem;font-weight:bold;color:#58a6ff;">BƯỚC 2</div>
                        <div style="font-size:1.3rem;font-weight:bold;">CÀI ĐẶT LAUNCHER</div>
                        <div class="mt-3" style="color:#ccc;">
                            Để có thể kết nối đến máy chủ của chúng tôi. Bạn phải cài đặt launcher ở bên dưới
                        </div>
                    </div>
                    <a href="RLife.exe" download class="btn-play mt-3">TẢI LAUNCHER</a>
                </div>
            </div>
            <!-- Bước 3 -->
            <div class="col-md-4 mb-4 d-flex">
                <div class="trailer-card text-center d-flex flex-column justify-content-between w-100">
                    <div>
                        <div style="font-size:2rem;font-weight:bold;color:#58a6ff;">BƯỚC 3</div>
                        <div style="font-size:1.3rem;font-weight:bold;">THAM GIA DISCORD</div>
                        <div class="mt-3" style="color:#ccc;">
                            Vui lòng tham gia discord của chúng tôi để được hỗ trợ nhanh chóng và kịp thời
                        </div>
                    </div>
                    <a href="https://discord.gg/Z86msdRTD9" target="_blank" class="btn-play mt-3">THAM GIA</a>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="section-about py-5" id="about-section">
  <div class="container d-flex flex-column flex-md-row align-items-center">
    <img src="logo.png" alt="RLIFE Logo" style="height:200px; margin-right:30px;">
    <div>
      <h3 class="about-title">RLIFE CITY ROLEPLAY</h3>
      <p class="about-sub">Thành phố nhập vai đầy sáng tạo và gắn kết cộng đồng tại Việt Nam</p>
      <p class="about-text">
        RLIFE CITY được tạo ra bởi những người yêu thích GTA V Roleplay, với mục tiêu xây dựng một cộng đồng bền vững, sáng tạo và thân thiện. Với nhiều tính năng mới, cập nhật liên tục và đội ngũ hỗ trợ tận tâm, RLIFE CITY mang đến trải nghiệm nhập vai chân thật, phong phú và hấp dẫn nhất tại Việt Nam.

Không chỉ dừng lại ở những công việc và nhiệm vụ truyền thống, thành phố của chúng tôi luôn được mở rộng với các hệ thống nghề nghiệp đa dạng, sự kiện đặc sắc và những câu chuyện do chính người chơi tạo nên. Người chơi có thể hóa thân thành bất kỳ vai trò nào mà họ mong muốn: từ cảnh sát, bác sĩ, doanh nhân, cho đến những công dân bình thường cùng nhau kiến tạo nên một xã hội sinh động.

RLIFE CITY cam kết mang đến môi trường công bằng, minh bạch và vui vẻ, nơi mọi ý kiến đều được lắng nghe và mọi đóng góp đều được trân trọng. Chúng tôi tin rằng sự gắn kết của cộng đồng chính là sức mạnh lớn nhất để thành phố ngày càng phát triển và trở thành một điểm đến hàng đầu cho những ai đam mê nhập vai trong GTA V.
      </p>
    </div>
  </div>
</section>
<section class="section-intro" id="mv-section">
  <div class="container mt-5">
    <div class="section-title text-center">GIAI TRI</div>
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="trailer-card text-center" style="position:relative; overflow:hidden;">
          <!-- Hình nền MV -->
          <a href="https://youtu.be/SO0evZSmFwA" target="_blank" style="display:block; position:relative;">
            <img src="MV.jpg" alt="RLIFE CITY MV" style="width:100%; height:auto; border-radius:8px;">
            <!-- Nút Play ở giữa -->
            <div style="
              position:absolute; 
              top:50%; left:50%; 
              transform:translate(-50%,-50%);
              background:rgba(0,0,0,0.6);
              border-radius:50%;
              width:80px; height:80px;
              display:flex; align-items:center; justify-content:center;
              box-shadow:0 0 20px rgba(255,255,255,0.6);
            ">
              <i class="fa fa-play" style="color:white; font-size:2rem; margin-left:6px;"></i>
            </div>
          </a>
          <!-- Caption -->
          <div class="caption">
            <h5>RLIFE CITY CANDY SHOP (MV nhạc)</h5>
            
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<footer class="mt-5 text-center py-4">
    <div class="container">
        <div class="mb-2">
            <!-- Facebook -->
            <a href="https://www.facebook.com/groups/1817261779149186" target="_blank" class="me-3">
                <i class="fab fa-facebook fa-lg"></i>
            </a>
            <!-- TikTok -->
            <a href="https://www.tiktok.com/@r_lifecity?_t=ZS-8zYxzbP9MYL&_r=1" target="_blank" class="me-3">
                <i class="fab fa-tiktok fa-lg"></i>
            </a>
            <!-- YouTube -->
            <a href="https://www.youtube.com/channel/UCZ9iaRX-KkBBfK7uHHL8caA" target="_blank" class="me-3">
                <i class="fab fa-youtube fa-lg"></i>
            </a>
        </div>
        <div>© 2025 RLIFE CITY Roleplay. All Rights Reserved.</div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    // Loading Screen Logic
    document.addEventListener('DOMContentLoaded', function() {
        const loadingScreen = document.getElementById('loading-screen');
        const loadingBoxes = document.querySelectorAll('.loading-box');
        const loadingPercentage = document.getElementById('loading-percentage');
        const bgVideo = document.getElementById('bg-video');
        
        let loadingProgressValue = 0;
        let isVideoLoaded = false;
        let isPageLoaded = false;
        let isLoadingComplete = false;
        
        // Disable smooth scroll during loading
        document.documentElement.style.scrollBehavior = 'auto';
        
        // Ensure page starts at top and prevent any scroll events during loading
        window.scrollTo(0, 0);
        document.body.style.overflow = 'hidden';
        
        // Set global flag to prevent other scripts from interfering
        window.isLoading = true;
        
        // Simulate loading progress for smooth animation
        function updateProgress(progress) {
            loadingProgressValue = Math.min(progress, 100);
            
            // Update boxes based on progress
            const activeBoxes = Math.floor((loadingProgressValue / 100) * loadingBoxes.length);
            loadingBoxes.forEach((box, index) => {
                if (index < activeBoxes) {
                    box.classList.add('active');
                } else {
                    box.classList.remove('active');
                }
            });
            
            loadingPercentage.textContent = Math.round(loadingProgressValue) + '%';
            
            // Hide loading screen when both video and page are loaded
            if (loadingProgressValue >= 100 && isVideoLoaded && isPageLoaded) {
                setTimeout(() => {
                    loadingScreen.style.opacity = '0';
                    setTimeout(() => {
                        loadingScreen.style.display = 'none';
                        // Show video background and main content
                        bgVideo.style.display = 'block';
                        document.getElementById('main-content').style.display = 'block';
                        bgVideo.play().catch(e => console.log('Video autoplay failed:', e));
                        
                        // Re-enable scroll
                        document.body.style.overflow = '';
                        isLoadingComplete = true;
                        window.isLoading = false;
                        // Ensure we're at top only initially
                        if (window.scrollY === 0) {
                        window.scrollTo(0, 0);
                        }
                        setTimeout(() => {
                            document.documentElement.style.scrollBehavior = 'smooth';
                        }, 100);
                    }, 500);
                }, 500);
            }
        }
        
        // Track video loading progress
        bgVideo.addEventListener('loadeddata', function() {
            isVideoLoaded = true;
            updateProgress(loadingProgressValue + 30);
        });
        
        bgVideo.addEventListener('canplaythrough', function() {
            updateProgress(loadingProgressValue + 20);
        });
        
        bgVideo.addEventListener('loadstart', function() {
            updateProgress(10);
        });
        
        bgVideo.addEventListener('progress', function() {
            if (bgVideo.buffered.length > 0) {
                const buffered = bgVideo.buffered.end(bgVideo.buffered.length - 1);
                const duration = bgVideo.duration;
                if (duration > 0) {
                    const videoProgress = (buffered / duration) * 50; // 50% for video loading
                    updateProgress(30 + videoProgress);
                }
            }
        });
        
        // Track page loading
        window.addEventListener('load', function() {
            isPageLoaded = true;
            updateProgress(Math.max(loadingProgressValue, 80));
            
            // Ensure we reach 100% even if video loads faster
            if (loadingProgressValue < 100) {
                setTimeout(() => updateProgress(100), 1000);
            }
        });
        
        // Fallback: ensure loading completes even if events don't fire properly
        setTimeout(() => {
            if (loadingProgressValue < 90) {
                updateProgress(100);
            }
        }, 10000); // 10 seconds max loading time
        
        // Start loading animation
        let simulatedProgress = 0;
        const loadingInterval = setInterval(() => {
            if (simulatedProgress < 30 && !isVideoLoaded) {
                simulatedProgress += Math.random() * 3;
                updateProgress(simulatedProgress);
            } else {
                clearInterval(loadingInterval);
            }
        }, 100);
        
        // Force video to start loading
        bgVideo.load();
    });
    </script>
    
    <!-- Halloween Jumpscare Script with Glitch Effects -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const jumpscareOverlay = document.getElementById('jumpscare-overlay');
        const jumpscareImage = document.getElementById('jumpscare-image');
        let jumpscareTriggered = false;
        
        // Screen flash effect
        function flashScreen() {
            let flashCount = 0;
            const flashInterval = setInterval(() => {
                if (flashCount % 2 === 0) {
                    document.body.style.filter = 'invert(1) hue-rotate(180deg)';
                } else {
                    document.body.style.filter = 'none';
                }
                flashCount++;
                if (flashCount >= 6) {
                    clearInterval(flashInterval);
                    document.body.style.filter = 'none';
                }
            }, 100);
        }
        
        // Glitch body effect
        function glitchBody() {
            document.body.style.animation = 'screenShake 0.5s ease-in-out';
            setTimeout(() => {
                document.body.style.animation = '';
            }, 500);
        }
        
        // Function to trigger jumpscare
        function triggerJumpscare() {
            if (jumpscareTriggered) return;
            jumpscareTriggered = true;
            
            // Flash screen before showing
            flashScreen();
            
            // Glitch body
            glitchBody();
            
            // Show overlay with delay for effect
            setTimeout(() => {
                jumpscareOverlay.classList.add('show');
                
                // Fade in quickly
                setTimeout(() => {
                    jumpscareOverlay.classList.add('visible');
                }, 50);
                
                // Random glitch during display
                let glitchInterval = setInterval(() => {
                    const randomX = Math.random() * 20 - 10;
                    const randomY = Math.random() * 20 - 10;
                    jumpscareImage.style.transform = `translate(${randomX}px, ${randomY}px) scale(${1 + Math.random() * 0.2})`;
                    
                    setTimeout(() => {
                        jumpscareImage.style.transform = '';
                    }, 50);
                }, 200);
                
                // Auto hide after 3 seconds
                setTimeout(() => {
                    clearInterval(glitchInterval);
                    hideJumpscare();
                }, 3000);
            }, 200);
        }
        
        // Function to hide jumpscare
        function hideJumpscare() {
            jumpscareOverlay.classList.remove('visible');
            setTimeout(() => {
                jumpscareOverlay.classList.remove('show');
            }, 300);
        }
        
        // Click to close jumpscare
        jumpscareOverlay.addEventListener('click', hideJumpscare);
        
        // Trigger jumpscare after loading screen completes
        // Listen for when loading is complete
        const checkLoadingComplete = setInterval(() => {
            const loadingScreen = document.getElementById('loading-screen');
            if (loadingScreen && loadingScreen.style.display === 'none') {
                clearInterval(checkLoadingComplete);
                // Wait 1 second after loading completes, then trigger jumpscare
                setTimeout(() => {
                    triggerJumpscare();
                }, 1000);
            }
        }, 100);
        
        // Fallback: trigger after 10 seconds if loading check fails
        setTimeout(() => {
            if (!jumpscareTriggered) {
                triggerJumpscare();
            }
        }, 10000);
    });
    </script>
    
    <script>
    // Smooth anchor scrolling offset for fixed navbar
    document.addEventListener('click', function(e){
        const a = e.target.closest('a[href^="#"]');
        if(!a) return;
        const id = a.getAttribute('href');
        if(id.length <= 1) return;
        const target = document.querySelector(id);
        if(!target) return;
        e.preventDefault();
        const y = target.getBoundingClientRect().top + window.scrollY - 70; // offset navbar
        window.scrollTo({ top: y, behavior: 'smooth' });
        // close navbar collapse on mobile
        const nav = document.getElementById('mainNav');
        if (nav && nav.classList.contains('show')) {
            new bootstrap.Collapse(nav).hide();
        }
    });

    // Active section glow
    document.addEventListener('scroll', function() {
        // Skip scroll events during loading
        if (window.isLoading) return;
        
        document.querySelectorAll('section').forEach(section => {
            const rect = section.getBoundingClientRect();
            if(rect.top < window.innerHeight/2 && rect.bottom > window.innerHeight/2) {
                section.classList.add('active-section');
            } else {
                section.classList.remove('active-section');
            }
        });
    });

    // Ripple effect for .btn-play
    document.addEventListener('click', function(e) {
        const target = e.target.closest('.btn-play');
        if (!target) return;
        const rect = target.getBoundingClientRect();
        const ripple = document.createElement('span');
        ripple.className = 'ripple';
        ripple.style.left = (e.clientX - rect.left) + 'px';
        ripple.style.top = (e.clientY - rect.top) + 'px';
        target.appendChild(ripple);
        setTimeout(() => ripple.remove(), 600);
    });

    // Reveal on scroll (generic)
    function doReveal(selector, threshold = 0.85, stagger = 120) {
        const items = Array.from(document.querySelectorAll(selector));
        function reveal() {
            // Skip reveal during loading
            if (window.isLoading) return;
            
            const trigger = window.innerHeight * threshold;
            items.forEach((el, idx) => {
                const top = el.getBoundingClientRect().top;
                if (top < trigger) {
                    setTimeout(() => el.classList.add('visible'), idx * stagger);
                }
            });
        }
        window.addEventListener('scroll', reveal);
        reveal();
    }
    doReveal('.trailer-card', 0.85, 20);
    doReveal('.reveal', 0.9, 20);

    // Parallax tilt for cards
    function attachTilt(selector, maxTilt = 8) {
        document.querySelectorAll(selector).forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const r = card.getBoundingClientRect();
                const x = (e.clientX - r.left) / r.width;
                const y = (e.clientY - r.top) / r.height;
                const rotateY = (x - 0.5) * maxTilt * 2;
                const rotateX = (0.5 - y) * maxTilt * 2;
                card.style.transform = `perspective(700px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.04)`;
            });
            card.addEventListener('mouseleave', () => {
                card.style.transform = '';
            });
        });
    }
   
    attachTilt('.info-box');
    
    // Particles/Nebula background
    (function(){
        const canvas = document.getElementById('bg-canvas');
        if(!canvas) return;
        const ctx = canvas.getContext('2d');
        let width, height, dpr;
        let particles = [];
        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        let paused = false;

        function resize(){
            dpr = Math.min(window.devicePixelRatio || 1, 2);
            width = canvas.clientWidth;
            height = canvas.clientHeight;
            canvas.width = Math.floor(width * dpr);
            canvas.height = Math.floor(height * dpr);
            ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
        }
        resize();
        window.addEventListener('resize', resize);

        const baseCount = 70; // số hạt cơ bản
        const isMobile = /Mobi|Android/i.test(navigator.userAgent);
        const count = prefersReduced ? 0 : (isMobile ? 30 : baseCount);

        function rand(min, max){ return Math.random() * (max - min) + min; }

        for(let i=0;i<count;i++){
            particles.push({
                x: rand(0, window.innerWidth),
                y: rand(0, window.innerHeight),
                r: rand(0.6, 2.4),
                a: rand(0.15, 0.5),
                vx: rand(-0.2, 0.2),
                vy: rand(-0.2, 0.2),
                hue: rand(195, 220)
            });
        }

        function step(){
            if (paused) { requestAnimationFrame(step); return; }
            ctx.clearRect(0, 0, width, height);
            // gradient sương mù nhẹ
            const g = ctx.createRadialGradient(width*0.7, height*0.3, 50, width*0.7, height*0.3, Math.max(width, height));
            g.addColorStop(0, 'rgba(88,166,255,0.06)');
            g.addColorStop(1, 'rgba(9,16,32,0.0)');
            ctx.fillStyle = g;
            ctx.fillRect(0,0,width,height);

            // vẽ hạt
            particles.forEach(p => {
                p.x += p.vx; p.y += p.vy;
                if(p.x < -10) p.x = width+10; if(p.x > width+10) p.x = -10;
                if(p.y < -10) p.y = height+10; if(p.y > height+10) p.y = -10;
                ctx.beginPath();
                ctx.fillStyle = `hsla(${p.hue}, 80%, 70%, ${p.a})`;
                ctx.shadowColor = `hsla(${p.hue}, 80%, 60%, ${p.a})`;
                ctx.shadowBlur = 8;
                ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
                ctx.fill();
            });
            requestAnimationFrame(step);
        }
        if (!prefersReduced) step();

        // expose controls
        window.__particlesControl = {
            pause: () => { paused = true; },
            resume: () => { paused = false; },
            isPaused: () => paused
        };
    })();

    // Performance guard for mobile: reduce blur/tilt
    (function(){
        const isMobile = /Mobi|Android/i.test(navigator.userAgent);
        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if(isMobile || prefersReduced){
            document.querySelectorAll('.info-box, .trailer-card, .city-card, .crew-fixed').forEach(el => {
                el.style.backdropFilter = 'none';
                el.style.webkitBackdropFilter = 'none';
                el.style.animation = 'none';
                el.style.transition = 'transform 0.2s, box-shadow 0.2s, background 0.2s';
            });
        }
        if(prefersReduced){
            // tắt tilt hoàn toàn
            document.querySelectorAll('.trailer-card, .info-box').forEach(card => {
                card.onmousemove = null;
                card.onmouseleave = null;
            });
        }
    })();

    // Settings toggle logic: Chế độ nhẹ + Giao diện sáng (persist)
    (function(){
        const btn = document.getElementById('settings-btn');
        const panel = document.getElementById('settings-panel');
        const lite = document.getElementById('toggle-lite');
        const light = document.getElementById('toggle-light');
        if(!btn || !panel || !lite || !light) return;

        btn.addEventListener('click', ()=>{
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
        });

        const state = {
            lite: localStorage.getItem('pref-lite') === '1',
            light: localStorage.getItem('pref-light') === '1'
        };
        lite.checked = state.lite;
        light.checked = state.light;

        function applyLite(enabled){
            document.body.classList.toggle('lite-mode', enabled);
            // giảm hiệu ứng: tắt tilt, giảm blur, dừng particles, dừng video
            document.querySelectorAll('.info-box, .trailer-card, .city-card, .crew-fixed').forEach(el => {
                el.style.backdropFilter = enabled ? 'none' : '';
                el.style.webkitBackdropFilter = enabled ? 'none' : '';
                el.style.animation = enabled ? 'none' : '';
            });
            document.querySelectorAll('.trailer-card, .info-box').forEach(card => {
                if (enabled) {
                    card.onmousemove = null; card.onmouseleave = null; card.style.transform = '';
                }
            });
            const video = document.getElementById('bg-video');
            if (video) {
                if (enabled) { try { video.pause(); } catch(_){} }
                else { try { video.play(); } catch(_){} }
            }
            if (window.__particlesControl) {
                enabled ? window.__particlesControl.pause() : window.__particlesControl.resume();
            }
        }

        function applyLightTheme(enabled){
            document.body.classList.toggle('light-theme', enabled);
        }

        applyLite(state.lite);
        applyLightTheme(state.light);

        lite.addEventListener('change', ()=>{
            localStorage.setItem('pref-lite', lite.checked ? '1' : '0');
            applyLite(lite.checked);
        });
        light.addEventListener('change', ()=>{
            localStorage.setItem('pref-light', light.checked ? '1' : '0');
            applyLightTheme(light.checked);
        });
    })();
    </script>
<div class="crew-fixed">
  <div class="crew-header">TOP CREW</div>
  <ol class="crew-list">
    <li><span class="rank gold">1</span> 911</li>
    <li><span class="rank silver">2</span> GIA TỘC HỌ LÊ</li>
    <li><span class="rank bronze">3</span> RISE IN POWER</li>
    <li><span class="rank">4</span> VIP</li>
    <li><span class="rank">5</span> XXX</li>
  </ol>
</div>
<script>
dragElement(document.querySelector(".crew-fixed"));

function dragElement(elmnt) {
  let shiftX = 0, shiftY = 0;
  let isDragging = false;

  elmnt.onmousedown = dragMouseDown;

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();

    // Tính offset giữa chuột và góc trái trên của khung
    const rect = elmnt.getBoundingClientRect();
    shiftX = e.clientX - rect.left;
    shiftY = e.clientY - rect.top;

    // Bỏ bottom/right, set top/left tuyệt đối
    elmnt.style.position = "fixed";
    elmnt.style.top = rect.top + "px";
    elmnt.style.left = rect.left + "px";
    elmnt.style.bottom = "auto";
    elmnt.style.right = "auto";

    isDragging = true;

    document.onmouseup = closeDragElement;
    document.onmousemove = elementDrag;
  }

  function elementDrag(e) {
    if (!isDragging) return;

    e = e || window.event;
    e.preventDefault();

    elmnt.style.top = (e.clientY - shiftY) + "px";
    elmnt.style.left = (e.clientX - shiftX) + "px";
  }

  function closeDragElement() {
    isDragging = false;
    document.onmouseup = null;
    document.onmousemove = null;
  }
}
</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  function randomOnline() {
    const min = 168;  // số nhỏ nhất
    const max = 400;  // số lớn nhất
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  const el = document.getElementById("online-count");
  if (!el) return;

  // Nếu localStorage đã có số thì dùng lại
  let currentOnline = localStorage.getItem("online-count");
  if (currentOnline) {
    el.textContent = currentOnline;
  } else {
    // lần đầu chưa có thì giữ nguyên số HTML ban đầu (37)
    localStorage.setItem("online-count", el.textContent);
  }
});
</script>
<!-- Floating Event Logo -->
<div id="event-logo">
  <img src="bingo.png" alt="Event Logo">
</div>

<!-- Halloween Pumpkin Decorations -->
<div class="halloween-pumpkin pumpkin-1">
  <img src="bingo.png" alt="Halloween Pumpkin">
</div>
<div class="halloween-pumpkin pumpkin-2">
  <img src="bingo.png" alt="Halloween Pumpkin">
</div>
<div class="halloween-pumpkin pumpkin-3">
  <img src="bingo.png" alt="Halloween Pumpkin">
  </div>

<style>
#event-logo {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1100;
  cursor: pointer;
  transition: transform 0.3s ease;
}
#event-logo img {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  box-shadow: 0 0 20px gold, 0 0 40px orange;
  animation: pulseGlow 2s infinite alternate;
}
#event-logo img {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  box-shadow: 0 0 20px gold, 0 0 40px orange;
  animation: spin 6s linear infinite, flip 3s ease-in-out infinite;
 animation: vipFloat 0.5s ease-in-out infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes flip {
  0%, 100% { transform: rotateY(0deg); }
  50% { transform: rotateY(180deg); }
}

/* Halloween Pumpkin Decorations */
.halloween-pumpkin {
  position: fixed;
  z-index: 500;
  pointer-events: none;
  opacity: 0.95;
}

.halloween-pumpkin img {
  width: 100px;
  height: 100px;
  filter: drop-shadow(0 0 20px rgba(255, 153, 0, 0.6));
  animation: pumpkinFloat 3s ease-in-out infinite;
  mix-blend-mode: screen;
  /* Tách nền - chỉ hiển thị phần sáng của ảnh */
}

.pumpkin-1 {
  top: 15%;
  left: 5%;
}

.pumpkin-1 img {
  width: 120px;
  height: 120px;
  animation: pumpkinFloat 3s ease-in-out infinite;
}

.pumpkin-2 {
  top: 60%;
  right: 8%;
}

.pumpkin-2 img {
  width: 90px;
  height: 90px;
  animation: pumpkinFloat 4s ease-in-out infinite 0.5s;
  transform: rotate(-15deg);
}

.pumpkin-3 {
  bottom: 25%;
  left: 10%;
}

.pumpkin-3 img {
  width: 110px;
  height: 110px;
  animation: pumpkinFloat 3.5s ease-in-out infinite 1s;
  transform: rotate(10deg);
}

@keyframes pumpkinFloat {
  0%, 100% {
    transform: translateY(0px) rotate(0deg);
  }
  25% {
    transform: translateY(-20px) rotate(5deg);
  }
  50% {
    transform: translateY(-10px) rotate(-3deg);
  }
  75% {
    transform: translateY(-25px) rotate(3deg);
  }
}

.pumpkin-1:hover img,
.pumpkin-2:hover img,
.pumpkin-3:hover img {
  filter: drop-shadow(0 0 30px rgba(255, 153, 0, 1)) drop-shadow(0 0 50px rgba(255, 102, 0, 0.8));
  animation: pumpkinBounce 0.5s ease;
}

@keyframes pumpkinBounce {
  0%, 100% {
    transform: scale(1) rotate(0deg);
  }
  25% {
    transform: scale(1.1) rotate(-5deg);
  }
  75% {
    transform: scale(1.15) rotate(5deg);
  }
}

/* Hide pumpkins on mobile */
@media (max-width: 768px) {
  .pumpkin-2, .pumpkin-3 {
    display: none;
  }
  
  .pumpkin-1 {
    top: 10%;
    left: 3%;
  }
  
  .pumpkin-1 img {
    width: 70px;
    height: 70px;
  }
}

@media (max-width: 480px) {
  .halloween-pumpkin {
    display: none;
  }
}

</style>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const eventLogo = document.getElementById("event-logo");
  
  if (eventLogo) {
    const closeBtn = eventLogo.querySelector(".close-btn");

    eventLogo.addEventListener("click", () => {
      // khi bấm logo thì mở vòng quay sự kiện
      window.location.href = "vqmm.html"; 
    });

    // closeBtn có thể không tồn tại, kiểm tra trước khi thêm event listener
    if (closeBtn) {
      closeBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        eventLogo.style.display = "none";
      });
    }
  }
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  function randomOnline() {
    const min = 168;  // số nhỏ nhất
    const max = 400;  // số lớn nhất
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  const el = document.getElementById("online-count");
  if (!el) return;

  // Nếu localStorage đã có số thì dùng lại
  let currentOnline = localStorage.getItem("online-count");
  if (currentOnline) {
    el.textContent = currentOnline;
  } else {
    // lần đầu chưa có thì giữ nguyên số HTML ban đầu (37)
    localStorage.setItem("online-count", el.textContent);
  }

  // Sau mỗi 60 giây thì random lại và lưu
  setInterval(() => {
    const newNumber = randomOnline();
    el.textContent = newNumber;
    localStorage.setItem("online-count", newNumber);
  }, 120000);
});
</script>
    </div> <!-- End main-content -->
</body>
</html>
